/* Файл: webapp/styles/globals.css */

/* --- 1. Импорт Tailwind CSS (Обязательно в начале) --- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- 2. Базовые стили для Telegram Mini App --- */
body {
  /* Мы используем прямые HEX-коды в качестве фолбэка. 
    PostCSS не должен ломаться о чистый CSS (var, hex). 
    Цвета взяты из tailwind.config.js (bg.DEFAULT: #0B0F15, txt.primary: #FFFFFF)
  */
  background-color: var(--tg-theme-bg-color, #0B0F15);
  color: var(--tg-theme-text-color, #FFFFFF);
  
  font-family: 'Inter', sans-serif;
  min-height: 100vh;
  transition: background-color 0.3s, color 0.3s;
}

/* --- 3. Кастомные классы (Используем @apply для Tailwind-логики) --- */

/* Стиль для инпутов: применяем классы Tailwind для эстетики */
input, textarea, select {
  /* Fолбэк для границы: #5E6470 (цвет muted) */
  border-color: var(--tg-theme-hint-color, #5E6470) !important;
  /* Fолбэк для текста: #FFFFFF (цвет primary) */
  color: var(--tg-theme-text-color, #FFFFFF) !important;
  
  /* Применяем классы для закругления и фона */
  @apply rounded-xl bg-bg-glass placeholder-txt-secondary;
}


/* Стиль для карточек/контейнеров с эффектом "стекла" */
.card-glass {
  /*
    Используем чистый CSS для фона и эффекта. 
    Цвет bg.card (rgba(255, 255, 255, 0.03)) теперь вставлен вручную.
  */
  background-color: rgba(255, 255, 255, 0.03); 
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  /* Основные классы Tailwind */
  @apply rounded-2xl shadow-card p-4 transition-all duration-300;
}

/* Стиль для TextArea */
.textarea-input {
  @apply w-full resize-none p-3 rounded-lg border-2 focus:border-accent-neon focus:ring-accent-neon text-txt-primary transition-all duration-200;
  
  /* Фолбэк для фона: rgba(255, 255, 255, 0.04) */
  background-color: var(--tg-theme-secondary-bg-color, rgba(255, 255, 255, 0.04));
  /* Фолбэк для границы: #5E6470 */
  border-color: var(--tg-theme-hint-color, #5E6470) !important;
}

/* Стили для анимации эквалайзера */
.bar {
  /* Используем w-1 h-full вместо w-[3px], чтобы избежать JIT-синтаксиса в @apply */
  @apply w-1 h-full bg-accent-neon rounded-full inline-block mx-0.5;
}

.animate-bars-1 { animation: up-down 1.2s ease-in-out infinite alternate; }
.animate-bars-2 { animation: up-down 1.4s ease-in-out infinite alternate; }
.animate-bars-3 { animation: up-down 1.1s ease-in-out infinite alternate; }
.animate-bars-4 { animation: up-down 1.3s ease-in-out infinite alternate; }
.animate-bars-5 { animation: up-down 1.5s ease-in-out infinite alternate; }

@keyframes up-down {
  0% { transform: scaleY(0.5); }
  100% { transform: scaleY(1.5); }
}
